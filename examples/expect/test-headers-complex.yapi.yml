# Complex header assertions demonstrating various patterns
yapi: v1
url: https://httpbin.org/headers

expect:
  status: 200
  assert:
    headers:
      # Check that specific headers exist (not null)
      - .["Content-Type"] != null
      # Check header value matches expected
      - .["Content-Type"] == "application/json"
      # Check header contains substring (using jq functions)
      - (.["Content-Type"] // "") | contains("json")
    body:
      # Body assertions still work as before
      - .headers != null
